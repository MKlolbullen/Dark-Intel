{% extends "base.html" %}{% block body %}
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>

<div class="flex h-screen">
  <aside class="w-64 p-4 bg-gray-800 text-white space-y-4">
    <h2 class="text-xl font-bold">Controls</h2>
    <form id="askForm" class="space-y-2">
      <textarea id="question" rows="4" class="w-full p-2 rounded bg-gray-700" placeholder="Ask an intelligence questionâ€¦"></textarea>
      <button class="w-full bg-indigo-600 py-2 rounded">Analyze</button>
    </form>
    <hr class="border-gray-600">
    <button id="toggleTheme" class="w-full bg-gray-700 py-1 rounded">Toggle Theme</button>
    <button id="reload" class="w-full bg-gray-700 py-1 rounded">Reload Graph</button>
  </aside>

  <main class="flex-1 bg-white dark:bg-gray-900 relative">
    <svg id="graph" class="w-full h-full"></svg>
    <div id="tooltip" class="absolute bg-black text-white text-xs px-2 py-1 rounded hidden"></div>
  </main>

  <aside class="w-80 p-4 bg-gray-800 text-white overflow-y-auto hidden md:block">
    <h2 class="text-xl font-bold">AI Summary</h2>
    <pre id="summary" class="mt-2 whitespace-pre-wrap"></pre>
  </aside>
</div>

<script src="{{ url_for('static', filename='js/d3graph.js') }}"></script>
{% endblock %}
